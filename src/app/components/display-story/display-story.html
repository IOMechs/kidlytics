<div
  class="story-container flex flex-col items-center px-4 py-3 w-full min-h-screen"
>
  <div
    class="flex flex-col items-center justify-center gap-4 w-full mb-4 relative"
  >
    <div class="flex items-center">
      <h1
        class="font-bold text-2xl md:text-3xl text-[var(--secondary-color)] text-center"
      >
        {{ storyTitle() }}
      </h1>

      <!-- Age badge and info button section -->
      <div class="flex items-center ml-2 mt-2 gap-2 md:mt-0">
        <div
          class="age-badge bg-[var(--secondary-color)] text-white text-sm px-2 flex items-center rounded-full m-auto"
          matTooltip="Appropriate for {{ ageGroup() }}"
          matTooltipPosition="above"
        >
          <p>{{ ageGroup() }}</p>
        </div>

        <button
          mat-icon-button
          class="info-button"
          matTooltip="View story details"
          (click)="openDialog()"
        >
          <mat-icon>info</mat-icon>
        </button>
      </div>
    </div>
  </div>

  <app-story-card
    [isLoading]="isLoading()"
    [currentImage]="preloadedImages()[currentIndex()]?.src || ''"
    [currentStoryPart]="storyParts()[currentIndex()]"
    [storyLength]="storyParts().length"
    [currentIndex]="currentIndex()"
    (changeIndex)="modifyIndex($event)"
  ></app-story-card>
  <app-social-share
    [shareUrl]="getShareUrl()"
    [imageUrl]="storyParts()[0].imageUri || '' "
    [title]="storyTitle()"
  ></app-social-share>
</div>
