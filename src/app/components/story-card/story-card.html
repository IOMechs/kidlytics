@if (storyLength() === 0 && !isLoading()) {
<p class="text-gray-500 text-center">No story found</p>
} @else if (isLoading()) {
<p>Loading Story</p>
} @else {
<div
  class="story-navigation flex items-center justify-center w-full max-w-md mx-auto"
>
  <button
    class="navigation-button px-4 h-12 py-2 bg-[var(--primary-color)] cursor-pointer text-white rounded-full shadow-md disabled:opacity-30"
    (click)="prevCard()"
    [disabled]="currentIndex() === 0"
  >
    ←
  </button>

  <div class="story-card-container flex-1 mx-2">
    <div
      class="story-card flex flex-col items-center gap-4 p-4 rounded-xl shadow-md bg-[var(--bg-light)] text-[var(--secondary-color)]"
    >
      <div class="relative w-full aspect-video overflow-hidden">
        <div
          class="absolute inset-0 rounded-lg border-4 border-[var(--primary-color)] shadow-sm"
        >
          @if (currentImage()) {
          <img
            [src]="currentImage() || currentStoryPart().imageUri"
            alt="Story image"
            class="w-full h-full object-cover rounded-sm"
          />

          } @else {
          <div class="w-full h-full bg-gray-200 animate-pulse">
            <div
              class="w-full h-full text-center bg-gradient-to-r from-gray-200 via-gray-300 to-gray-200 animate-shimmer"
            >
              Loading Image...
            </div>
          </div>

          }
        </div>
      </div>

      <div
        class="content-container w-full px-1 text-base sm:text-lg text-gray-800 leading-relaxed text-center"
      >
        <p>{{ currentStoryPart().content }}</p>
      </div>

      <span class="text-sm text-gray-600">
        {{ currentIndex() + 1 }} / {{ storyLength() }}
      </span>
    </div>
  </div>

  <button
    class="navigation-button px-4 py-2 bg-[var(--primary-color)] cursor-pointer text-white rounded-full shadow-md disabled:opacity-30"
    (click)="nextCard()"
    [disabled]="currentIndex() === storyLength()-1"
  >
    →
  </button>
</div>
}
